(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{224:function(t,a,e){"use strict";e.r(a);var n=e(19),o=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"content-type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#content-type"}},[t._v("#")]),t._v(" Content-Type")]),t._v(" "),e("p",[e("code",[t._v("Content-Type")]),t._v("是指http/https发送信息至服务器时的内容编码类型，contentType用于表明发送数据流的类型，服务器根据编码类型使用特定的解析方式，获取数据流中的数据。")]),t._v(" "),e("p",[t._v("常用的"),e("code",[t._v("Content-Type")]),t._v("有: text/html, text/plain, text/css, text/javascript, image/jpeg, image/png, image/gif, application/x-www-form-urlencoded, multipart/form-data, application/json, application/xml 等。")]),t._v(" "),e("p",[t._v("其中：text/html, text/plain, text/css, text/javascript, image/jpeg, image/png, image/gif, 都是常见的页面资源类型。application/x-www-form-urlencoded, multipart/form-data, application/json, application/xml 这四个是ajax的请求，表单提交或上传文件的常用的资源类型。")]),t._v(" "),e("p",[t._v("注意：如果是"),e("code",[t._v("Get")]),t._v("请求，那么一般为"),e("code",[t._v("Query String Parameters")]),t._v(",参数以 ?key1=value1&key2=value2 的形式拼接到url上；"),e("br"),t._v(" "),e("code",[t._v("POST")]),t._v("请求参数的存放位置是和我们的Content-Type 有关的，"),e("code",[t._v("application/x-www-form-urlencoded")]),t._v("的话，则为"),e("code",[t._v("formdata")]),t._v("方式，参数也以key1=value1&key2=value2的形式，但是存放在请求体中；如果是"),e("code",[t._v("application/json")]),t._v("或"),e("code",[t._v("multipart/form-data")]),t._v("的话，则为 "),e("code",[t._v("request payload")]),t._v(" 。")]),t._v(" "),e("h3",{attrs:{id:"application-x-www-form-unlencoded"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#application-x-www-form-unlencoded"}},[t._v("#")]),t._v(" application/x-www-form-unlencoded")]),t._v(" "),e("p",[e("code",[t._v("application/x-www-form-unlencoded")]),t._v("是原生form和ajax的默认提交方式。")]),t._v(" "),e("p",[t._v("form表单中可以定义"),e("code",[t._v("enctype")]),t._v("属性，该属性的含义是在发送到服务器之前应该如何对表单数据进行编码。默认的情况下，表单数据会编码为"),e("code",[t._v("application/x-www-form-unlencoded")]),t._v("。"),e("code",[t._v("enctype")]),t._v("常用的属性值如下："),e("code",[t._v("application/x-www-form-unlencoded")]),t._v("： 在发送前编码所有字符(默认情况下)；"),e("code",[t._v("multipart/form-data")]),t._v(", 不对字符编码。在使用文件上传时候，使用该值。")]),t._v(" "),e("p",[e("code",[t._v("application/x-www-form-urlencoded")]),t._v("支持GET/POST等方法，所有数据变成键值对的形式 key1=value1&key2=value2的形式，并且特殊字符需要转义成utf-8编号，如空格会变成 %20，在chrome的network面板下，默认的请求体是被解析的。如果请求类型type是GET的话，那么格式化的字符串将直接拼接在url后发送到服务端； 如果请求类型是POST, 那么格式化的字符串将放在http body的"),e("code",[t._v("Form Data")]),t._v("中发送。")]),t._v(" "),e("h3",{attrs:{id:"multipart-form-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#multipart-form-data"}},[t._v("#")]),t._v(" multipart/form-data")]),t._v(" "),e("p",[t._v("使用表单上传文件时，必须指定表单的 enctype属性值为 multipart/form-data. 请求体被分割成多部分，每部分使用 --boundary分割；")]),t._v(" "),e("h3",{attrs:{id:"application-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#application-json"}},[t._v("#")]),t._v(" application/json")]),t._v(" "),e("p",[t._v("对于复杂的json对象，再使用"),e("code",[t._v("application/x-www-form-unlencoded")]),t._v("就不太合适了。因为"),e("code",[t._v("application/x-www-form-unlencoded")]),t._v("这种编码格式的特点是：key-value值对，\n每组之间使用&连接，而name与value之间是使用 = 连接，比如 key=xxx&name=111&password=123456;")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  a"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  b"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("键值对一般的情况下是没有什么问题，但是在一些复杂的情况下，比如需要传一个复杂的json对象，也就是对象嵌套数组的情况下。")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  obj"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("111")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[e("code",[t._v("application/x-www-form-urlencoded")]),t._v("这种形式传递的话， 会被解析成 obj[0]['name']=111&obj[0].['password']=2。这种形式是后台接收到是不好接收的。")]),t._v(" "),e("p",[t._v("所以使用"),e("code",[t._v("application/json")]),t._v("将json对象的字符串传给服务器，服务器使用"),e("code",[t._v("@RequestBody")]),t._v("可以直接解析为对象。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("使用ajax跨域请求时，如果设置Header的ContentType为 application/json，它会发两次请求，第一次先发Method为OPTIONS的请求到服务器，\n这个请求会询问服务器支持那些请求方法(比如GET,POST)等。如果这个请求支持跨域的话，就会发送第二个请求，否则的话在控制台会报错，第二个请求不会请求。")])])])}),[],!1,null,null,null);a.default=o.exports}}]);