(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{276:function(s,e,r){"use strict";r.r(e);var t=r(19),v=Object(t.a)({},(function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),r("p",[s._v("首先的工作任务是分析现有系统，找出所有的api接口记录下来。使用"),r("code",[s._v("uniapp")]),s._v("开发出APP，用来做展现。")]),s._v(" "),r("h2",{attrs:{id:"现有系统分析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#现有系统分析"}},[s._v("#")]),s._v(" 现有系统分析")]),s._v(" "),r("p",[s._v("整体采用 C/S 架构。\n"),r("code",[s._v("IIS")]),s._v(":智能化集成软件。")]),s._v(" "),r("ul",[r("li",[s._v("sw-iis 客户端。")]),s._v(" "),r("li",[s._v("sw-iis ngnix静态资源服务器")]),s._v(" "),r("li",[s._v("icms 服务器")]),s._v(" "),r("li",[s._v("stream-server 流媒体服务器")])]),s._v(" "),r("h3",{attrs:{id:"sw-iis-客户端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#sw-iis-客户端"}},[s._v("#")]),s._v(" sw-iis 客户端")]),s._v(" "),r("p",[s._v("使用的竟然是 "),r("code",[s._v("Electronjs")]),s._v("，一个使用 "),r("code",[s._v("JavaScript")]),s._v(","),r("code",[s._v("HTML")]),s._v("和"),r("code",[s._v("CSS")]),s._v("构建跨平台的桌面应用程序。我还以为用的是 "),r("code",[s._v("C#")]),s._v("。于是我把 "),r("a",{attrs:{href:"https://www.electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("electronjs"),r("OutboundLink")],1),s._v(" 提供的 DEMO 下了下来，并运行了一下。结果如下：")]),s._v(" "),r("img",{attrs:{src:s.$withBase("/others/work/electronjs.jpg")}}),s._v(" "),r("p",[s._v("和 sw-iis 客户端的效果是一模一样的。")]),s._v(" "),r("p",[s._v("ip 配置的在 js 文件夹中的 "),r("code",[s._v("init.js")]),s._v("中")]),s._v(" "),r("h3",{attrs:{id:"iis-浏览器端"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#iis-浏览器端"}},[s._v("#")]),s._v(" iis 浏览器端")]),s._v(" "),r("p",[s._v("是一组静态html文件，放在 "),r("code",[s._v("nginx")]),s._v("下的。服务端 ip 配置的在 js 文件夹中的 "),r("code",[s._v("init.js")]),s._v("中，和 sw-iis 相同的效果，只不过是浏览器端的。")]),s._v(" "),r("p",[r("code",[s._v("nginx")]),s._v(" 发布端口为 8086。")]),s._v(" "),r("h3",{attrs:{id:"icms"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#icms"}},[s._v("#")]),s._v(" icms")]),s._v(" "),r("p",[s._v("icms 是为 上述 sw-iis 客户端提供部分服务的。使用javaee开发，不过技术太老了。")]),s._v(" "),r("p",[s._v("我把这个 icms 的 war 包反编译了下。里面主要使用的是"),r("code",[s._v("spring")]),s._v(","),r("code",[s._v("mybatis")]),s._v(","),r("code",[s._v("webx")]),s._v("。这个"),r("code",[s._v("webx")]),s._v("讲道理我是没听说过的，以前至少还用过"),r("code",[s._v("struts2")]),s._v("，这个"),r("code",[s._v("webx")]),s._v("是啥东西？")]),s._v(" "),r("p",[s._v("然后我把所有反编译的文件重构成了一个 web 工程。。各种报错，实在懒得搞了。")]),s._v(" "),r("p",[s._v("icms 发布端口为 8080")]),s._v(" "),r("h3",{attrs:{id:"stream-server"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#stream-server"}},[s._v("#")]),s._v(" stream-server")]),s._v(" "),r("p",[s._v("stream-server 为流媒体服务器，发布的端口为 9028。简单集成了 ffmpeg 用来推流到 stream-server ，使用 websocket 。")]),s._v(" "),r("h2",{attrs:{id:"isql-jar"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#isql-jar"}},[s._v("#")]),s._v(" isql.jar")]),s._v(" "),r("p",[s._v("好像是停车场系统的服务。")]),s._v(" "),r("h2",{attrs:{id:"参考资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("electronjs"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=v.exports}}]);