---
autoGroup-1: Java 编程思想
title: 第10章 内部类
---

> 可以将一个类的定义放在另一个类的定义内部，这就是内部类。

## 10.1 创建内部类
创建内部类就如同字面意思——把类的定义至于外围类的里面。

在外围类的**非静态方法**中，可以直接创建某个内部类的对象。实际上外围类有一个方法可以返回一个指向内部类的引用。

但如果要在`static`方法或其它类中，必须具体指明这个对象的类型：`OuterClassName.InnerClassName`。

这里似乎只是一种名字隐藏和组织代码的模式，但它还有其它的用途。

## 10.2 链接到外部类
当生成一个内部类访问其外围类中的所有成员，而不需要任何特殊条件。

实际上，当外围类对象创建了一个内部类对象时，这个内部类对象会秘密的捕获一个指向那个外围类对象的引用。你在内部类中访问外围类的成员，实际上就是操纵那个引用。

## 10.3 使用.this与.new
如果想在内部类中生成对外部类对象的引用，可以使用`OutClass.this`。

如果想在其它类中创建内部类对象，必须在`new`表达式中提供其它外部类对象的引用。例如：
```java
package top.yinjinbiao.study;

public class OutClass {

    private String className = this.getClass().getName();
    public class Inner{
        public void getOutClassName(){
            System.out.println(className);
        }
    }
}
```
```java
package top.yinjinbiao.study;

public class StudyApplication {

    public static void main(String[] args) {
        OutClass outClass = new OutClass();
        OutClass.Inner inner = outClass.new Inner();
        inner.getOutClassName();
    }
}
```
::: tip
想要创建内部类对象，必须使用外部类的对象来创建该内部类对象。
在拥有外部类对象之前是不可能创建内部类对象的。只是因为内部类对象会暗暗地连接到创建它的外部类对象上。但是如果是**嵌套类（静态内部类）**，那么就不需要对外部类对象的引用。
:::

## 10.4 内部类与向上转型
将内部类声明为`private`，就无法在其它类中创建此内部类的对象。

内部类可以用来实现多重继承，即，一个类想继承多个类的方法，但由于Java的单继承机制无法实现。这时候就可以使用多个内部类来继承，从而使外部类获得各个类的方法。